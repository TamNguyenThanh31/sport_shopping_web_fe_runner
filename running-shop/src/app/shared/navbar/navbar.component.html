<p-menubar [model]="items" class="navbar">
  <ng-template pTemplate="start">
    <div class="brand-container" (click)="navigateToHome()">
      <div class="brand-logo">
        <img src="assets/running-shoe-logo.png" alt="RunElite" />
      </div>
      <div class="brand-name-container">
        <div class="brand-name">RUNELITE</div>
        <div class="brand-tagline">Performance Running Gear</div>
      </div>
    </div>
  </ng-template>
  <ng-template pTemplate="end">
    <div class="user-section">
      <button pButton type="button" icon="pi pi-search" class="p-button-rounded p-button-text search-btn"
              (click)="toggleSearch()"></button>
      <button pButton type="button" icon="pi pi-shopping-cart" class="p-button-rounded p-button-text cart-btn"
              (click)="toggleCartSidebar()" *ngIf="currentUser?.role === 'CUSTOMER'">
        <span class="cart-badge">{{ cartItems }}</span>
      </button>
      <div class="user-menu">
        <p-avatar [label]="getUserInitials()" size="normal" shape="circle"
                  class="user-avatar" (click)="menu.toggle($event)"
                  [ngStyle]="{'background-color': 'var(--primary-color)'}"></p-avatar>
        <p-menu #menu [model]="userMenuItems" [popup]="true" appendTo="body"></p-menu>
      </div>
    </div>
  </ng-template>
</p-menubar>
<p-sidebar [(visible)]="showSidebar" position="right" styleClass="cart-sidebar">
  <app-cart-sidebar (onCartUpdate)="loadCartItemCount()"></app-cart-sidebar>
</p-sidebar>
<router-outlet></router-outlet>
