<div class="profile-wrapper">
  <p-card *ngIf="currentUser$ | async as user; else notLoggedIn" header="Your Runner Profile" [style]="{'width': '600px', 'margin': '20px auto'}">
    <!-- Header với hình nền chạy bộ -->
    <ng-template pTemplate="header">
      <div class="profile-header">
        <h2>Your Runner Profile</h2>
      </div>
    </ng-template>

    <!-- Nội dung profile -->
    <div class="profile-content">
      <div class="profile-avatar">
        <i class="pi pi-user runner-icon"></i>
      </div>
      <div class="profile-details">
        <p><strong>Username:</strong> {{ user.username }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>Role:</strong> {{ user.role }}</p>
        <p><strong>Joined:</strong> {{ user.createdAt | date:'medium' }}</p>
        <p><strong>Last Updated:</strong> {{ user.updatedAt | date:'medium' }}</p>
      </div>
    </div>

    <!-- Footer với nút hành động -->
    <ng-template pTemplate="footer">
      <div class="profile-footer">
        <p-button label="Edit Profile" icon="pi pi-pencil" styleClass="p-button-raised p-button-warning"></p-button>
        <p-button label="Logout" icon="pi pi-sign-out" styleClass="p-button-raised p-button-danger" (click)="authService.logout()"></p-button>
      </div>
    </ng-template>
  </p-card>

  <!-- Template khi chưa đăng nhập -->
  <ng-template #notLoggedIn>
    <div class="not-logged-in">
      <p-card header="Access Denied" [style]="{'width': '600px', 'margin': '20px auto'}">
        <p>Please log in to view your runner profile.</p>
        <p-button label="Go to Login" icon="pi pi-sign-in" styleClass="p-button-raised p-button-info" [routerLink]="['/auth/login']"></p-button>
      </p-card>
    </div>
  </ng-template>
</div>
